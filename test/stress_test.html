<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Stress test</title>
        <!--link href='http://fonts.googleapis.com/css?family=Ubuntu:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'-->
        <style>
            body {
                background-color: #000;
                margin: 0;
                padding: 0;
                border: 0;
                outline: none;
                overflow:hidden;
            }
            canvas {
                display: block;
            }
        </style>
        </script>
        <script type="text/javascript">

            function log(obj) {
                if (console)
                    console.log(obj);
            }

        </script>

        <script type="text/javascript" src="../js/mootools-core-1.3-full-compat-yc.js">
        </script>
        <script type="text/javascript" src="../js/mootools-more.js">
        </script>
        <script type="text/javascript" src="../js/Tweet.js">
        </script>
        <script type="text/javascript" src="StressTestTweetsProvider.js">
        </script>
        <script type="text/javascript" src="../js/CharacterDetailsMap.js">
        </script>
        <script type="text/javascript" src="../js/TwitterDetailsCarousel.js">
        </script>
        <script type="text/javascript" src="../data/details.js">
        </script>
        
        <script>
            var map = new CharacterDetailsMap();
            
            if(!fontDetails){
                alert("no details specified!");
            }else{
                for(var i=0; i<fontDetails.length; i++){
                    map.addDetail(fontDetails[i]);
                }
            }
            
            var tp = new StressTestTweetsProvider();

            var carousel;
            window.addEvent('domready', function()
            {
                if(!(Browser.safari || Browser.chrome)){
                    alert("Sorry but this application at the moment supports only Safari and Chrome");
                }else{
                    start();
                }
            });
            function start ()
            {
                var uri = new URI();
                var options = {
                    width: $(document).getSize().x,
                    height: $(document).getSize().y,
                    bgColor: "#000",
                    fgColor: "#FFF",
                    detailDuration: 10,
                    allTweetDuration: 100,
                    revealDuration: 10
                };
                tp.loadAllTweets();
                carousel = new TwitterDetailsCarousel("", map, tp, $(document.body), options);
                

                window.addEvent('resize', function() {
                    carousel.setSize($(document).getSize().x, $(document).getSize().y);
                });              
            }
        </script>
    </head>
    <body>
    </body>
</html>
